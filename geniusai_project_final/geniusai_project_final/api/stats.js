import { supabase } from './_helpers/supabaseClient.js'; export default async function handler(req,res){ const {count,error} = await supabase.from('registrations').select('*',{head:true,count:'exact'}); if(error) return res.status(500).json({error:error.message}); return res.json({total: count || 0, goal: Number(process.env.BETA_GOAL||1000), remaining: Math.max(0, (Number(process.env.BETA_GOAL||1000)-(count||0)))}); }